@page
@using Gallery.Models
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<div class="text-center">
    <div class="container-fluid">
        <div class="row pb-5">
            <div class="col-md-4">
                <div class="sticky-top pt-5">
                    <h1 class="display-4">Annabelle</h1>
                    
                    <p class="container">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur lobortis euismod mi ut pharetra. Donec arcu sapien, malesuada eu rhoncus sit amet, venenatis a orci. In et euismod quam, in porta arcu. Donec non velit urna. Ut venenatis lectus mi, sit amet varius nisi dapibus sit amet. Praesent accumsan luctus orci nec scelerisque. Aliquam erat volutpat. Suspendisse vulputate ipsum et felis tempus, id vestibulum urna dignissim.</p>
                </div>
            </div>
            <div class="col-md-8 pt-md-5">
                @{
                    string MarginForFigure(int imageIndex, int numImages)
                    {
                        if (imageIndex == 0) return "my-5 my-md-0 mb-md-5";
                        if (imageIndex == numImages - 1) return "my-5 my-md-0 mt-md-5";
                        return "my-5";
                    }

                    int imageCount = @Model.Images.Count;
                }

                @for (int i = 0; i < imageCount; i += 1)
                {
                    UploadedImage image = @Model.Images[i];
                    string imageId = image.Id;
                    string cssMarginClass = MarginForFigure(i, imageCount);

                    <figure class="@cssMarginClass">
                        <img src="@image.ImgSrc()" alt="@image.Description" />
                        <figcaption>@image.Description</figcaption>
                    </figure>
                }
            </div>
        </div>
    </div>
</div>
